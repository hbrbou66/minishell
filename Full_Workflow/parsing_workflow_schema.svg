<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="1000" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#212529">Minishell Parsing Workflow Schema</text>
  
  <!-- Arrow marker definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#007bff"/>
    </marker>
    <marker id="errorarrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#dc3545"/>
    </marker>
  </defs>
  
  <!-- Main Flow Section -->
  <g id="main-flow">
    <!-- main function -->
    <rect x="50" y="60" width="120" height="50" fill="#007bff" stroke="#0056b3" stroke-width="2" rx="5"/>
    <text x="110" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">main()</text>
    <text x="110" y="98" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Entry Point</text>
    
    <!-- check_argc -->
    <rect x="200" y="60" width="120" height="50" fill="#28a745" stroke="#1e7e34" stroke-width="2" rx="5"/>
    <text x="260" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">check_argc()</text>
    <text x="260" y="98" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Argument Check</text>
    
    <!-- init_shell -->
    <rect x="350" y="60" width="120" height="50" fill="#28a745" stroke="#1e7e34" stroke-width="2" rx="5"/>
    <text x="410" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">init_shell()</text>
    <text x="410" y="98" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Shell Init</text>
    
    <!-- Main Loop Box -->
    <rect x="30" y="140" width="1140" height="700" fill="none" stroke="#6c757d" stroke-width="3" stroke-dasharray="10,5" rx="10"/>
    <text x="600" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">Main Parsing Loop (while(1))</text>
    
    <!-- define_sig -->
    <rect x="50" y="190" width="120" height="50" fill="#dc3545" stroke="#c82333" stroke-width="2" rx="5"/>
    <text x="110" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">define_sig()</text>
    <text x="110" y="228" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Signal Setup</text>
    
    <!-- recevied_from_input -->
    <rect x="200" y="190" width="140" height="50" fill="#fd7e14" stroke="#e8590c" stroke-width="2" rx="5"/>
    <text x="270" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">recevied_from_</text>
    <text x="270" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">input(0,1)</text>
    <text x="270" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Input State</text>
    
    <!-- readline -->
    <rect x="370" y="190" width="140" height="50" fill="#6f42c1" stroke="#59359a" stroke-width="2" rx="5"/>
    <text x="440" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">readline()</text>
    <text x="440" y="228" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Get User Input</text>
    
    <!-- Input Check Diamond -->
    <polygon points="580,190 630,215 580,240 530,215" fill="#ffc107" stroke="#e0a800" stroke-width="2"/>
    <text x="580" y="218" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Input?</text>
    
    <!-- add_history -->
    <rect x="700" y="190" width="120" height="50" fill="#17a2b8" stroke="#117a8b" stroke-width="2" rx="5"/>
    <text x="760" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">add_history()</text>
    <text x="760" y="228" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Store History</text>
    
    <!-- ft_parse_command -->
    <rect x="50" y="280" width="140" height="70" fill="#e83e8c" stroke="#d91a72" stroke-width="2" rx="5"/>
    <text x="120" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ft_parse_</text>
    <text x="120" y="318" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">command()</text>
    <text x="120" y="333" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Syntax Check</text>
    <text x="120" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Quote Check</text>
    
    <!-- ft_split -->
    <rect x="220" y="280" width="120" height="70" fill="#20c997" stroke="#1aa179" stroke-width="2" rx="5"/>
    <text x="280" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ft_split()</text>
    <text x="280" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Tokenize Input</text>
    <text x="280" y="333" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Split by Operators</text>
    <text x="280" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">and Whitespace</text>
    
    <!-- s_cmd -->
    <rect x="370" y="280" width="140" height="70" fill="#6610f2" stroke="#520dc2" stroke-width="2" rx="5"/>
    <text x="440" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">s_cmd()</text>
    <text x="440" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Create Token List</text>
    <text x="440" y="333" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Assign Token Types</text>
    <text x="440" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">PIPE|WORD|REDIR</text>
    
    <!-- ft_expand -->
    <rect x="540" y="280" width="140" height="70" fill="#fd7e14" stroke="#e8590c" stroke-width="2" rx="5"/>
    <text x="610" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ft_expand()</text>
    <text x="610" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Variable Expansion</text>
    <text x="610" y="333" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Quote Removal</text>
    <text x="610" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">$VAR Processing</text>
    
    <!-- convert_token_to_exec -->
    <rect x="710" y="280" width="160" height="70" fill="#dc3545" stroke="#c82333" stroke-width="2" rx="5"/>
    <text x="790" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">convert_token_</text>
    <text x="790" y="313" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">to_exec()</text>
    <text x="790" y="328" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Build Exec Struct</text>
    <text x="790" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">For Command Exec</text>
  </g>
  
  <!-- Utility Functions Section -->
  <g id="utility-functions">
    <rect x="900" y="60" width="280" height="200" fill="#f8f9fa" stroke="#6c757d" stroke-width="2" rx="5"/>
    <text x="1040" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">Utility Functions</text>
    
    <!-- ft_putstr_fd -->
    <rect x="920" y="100" width="110" height="40" fill="#6c757d" stroke="#495057" stroke-width="1" rx="3"/>
    <text x="975" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ft_putstr_fd()</text>
    <text x="975" y="132" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Output to FD</text>
    
    <!-- ft_malloc -->
    <rect x="1050" y="100" width="110" height="40" fill="#6c757d" stroke="#495057" stroke-width="1" rx="3"/>
    <text x="1105" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ft_malloc()</text>
    <text x="1105" y="132" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Memory Mgmt</text>
    
    <!-- e_status -->
    <rect x="920" y="150" width="110" height="40" fill="#6c757d" stroke="#495057" stroke-width="1" rx="3"/>
    <text x="975" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">e_status()</text>
    <text x="975" y="182" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Exit Status</text>
    
    <!-- rl_clear_history -->
    <rect x="1050" y="150" width="110" height="40" fill="#6c757d" stroke="#495057" stroke-width="1" rx="3"/>
    <text x="1105" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white">rl_clear_</text>
    <text x="1105" y="177" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white">history()</text>
    <text x="1105" y="187" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Clear History</text>
    
    <!-- init_env -->
    <rect x="920" y="200" width="110" height="40" fill="#6c757d" stroke="#495057" stroke-width="1" rx="3"/>
    <text x="975" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">init_env()</text>
    <text x="975" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Env Variables</text>
  </g>
  
  <!-- Data Structures Section -->
  <g id="data-structures">
    <rect x="50" y="400" width="800" height="200" fill="#e9ecef" stroke="#6c757d" stroke-width="2" rx="5"/>
    <text x="450" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">Data Flow and Structures</text>
    
    <!-- Input String -->
    <rect x="70" y="440" width="100" height="40" fill="#fff3cd" stroke="#ffeaa7" stroke-width="1" rx="3"/>
    <text x="120" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Input String</text>
    <text x="120" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">"ls -la | grep"</text>
    
    <!-- Token Array -->
    <rect x="200" y="440" width="120" height="40" fill="#d1ecf1" stroke="#bee5eb" stroke-width="1" rx="3"/>
    <text x="260" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Token Array</text>
    <text x="260" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">["ls", "-la", "|", "grep"]</text>
    
    <!-- Token List -->
    <rect x="350" y="440" width="140" height="40" fill="#d4edda" stroke="#c3e6cb" stroke-width="1" rx="3"/>
    <text x="420" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Token List (t_token)</text>
    <text x="420" y="467" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">WORD→WORD→PIPE→WORD</text>
    <text x="420" y="477" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">with types and values</text>
    
    <!-- Expanded List -->
    <rect x="520" y="440" width="140" height="40" fill="#fff2cc" stroke="#ffeaa7" stroke-width="1" rx="3"/>
    <text x="590" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Expanded List</text>
    <text x="590" y="467" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Variables expanded</text>
    <text x="590" y="477" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Quotes removed</text>
    
    <!-- Exec Structure -->
    <rect x="690" y="440" width="140" height="40" fill="#f8d7da" stroke="#f5c6cb" stroke-width="1" rx="3"/>
    <text x="760" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold">Exec Structure</text>
    <text x="760" y="467" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">t_exec with cmd,</text>
    <text x="760" y="477" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">args, pipes, redirs</text>
    
    <!-- Data flow arrows between structures -->
    <path d="M 170 460 L 190 460" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <path d="M 320 460 L 340 460" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <path d="M 490 460 L 510 460" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <path d="M 660 460 L 680 460" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- Parsing Components Detail -->
  <g id="parsing-details">
    <rect x="50" y="520" width="800" height="220" fill="#f1f3f4" stroke="#6c757d" stroke-width="2" rx="5"/>
    <text x="450" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">Parsing Components Detail</text>
    
    <!-- ft_parse_command details -->
    <rect x="70" y="560" width="180" height="80" fill="#fce4ec" stroke="#f8bbd9" stroke-width="1" rx="3"/>
    <text x="160" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ft_parse_command()</text>
    <text x="160" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_check_quots()</text>
    <text x="160" y="607" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_syntax_check()</text>
    <text x="160" y="619" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_check_braces()</text>
    <text x="160" y="631" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">Returns: 0=OK, 1=Error</text>
    
    <!-- ft_split details -->
    <rect x="270" y="560" width="180" height="80" fill="#e8f5e8" stroke="#c8e6c8" stroke-width="1" rx="3"/>
    <text x="360" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ft_split()</text>
    <text x="360" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_countword()</text>
    <text x="360" y="607" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• get_word_len()</text>
    <text x="360" y="619" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• Handle quotes and operators</text>
    <text x="360" y="631" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">Returns: char** array</text>
    
    <!-- s_cmd details -->
    <rect x="470" y="560" width="180" height="80" fill="#e3f2fd" stroke="#bbdefb" stroke-width="1" rx="3"/>
    <text x="560" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold">s_cmd()</text>
    <text x="560" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_token_type()</text>
    <text x="560" y="607" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• ft_lstnew() for tokens</text>
    <text x="560" y="619" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• heredoc_count() check</text>
    <text x="560" y="631" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">Returns: t_token* list</text>
    
    <!-- ft_expand details -->
    <rect x="670" y="560" width="180" height="80" fill="#fff3e0" stroke="#ffcc02" stroke-width="1" rx="3"/>
    <text x="760" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold">ft_expand()</text>
    <text x="760" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• Variable expansion</text>
    <text x="760" y="607" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• Quote processing</text>
    <text x="760" y="619" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">• Heredoc handling</text>
    <text x="760" y="631" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">Modifies token values</text>
    
    <!-- Token Types -->
    <rect x="70" y="650" width="780" height="80" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="3"/>
    <text x="460" y="670" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Token Types (t_tokentype)</text>
    <text x="150" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">WORD</text>
    <text x="220" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">PIPE (|)</text>
    <text x="290" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">R_IN (&lt;)</text>
    <text x="360" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">R_OUT (&gt;)</text>
    <text x="430" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">APPEND (&gt;&gt;)</text>
    <text x="500" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">HEREDOC (&lt;&lt;)</text>
    <text x="580" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">SINGLE_Q</text>
    <text x="650" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">DOUBLE_Q</text>
    <text x="720" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">EXPAN</text>
    <text x="790" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="9">RED_FILE</text>
    
    <text x="150" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Commands</text>
    <text x="220" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Pipeline</text>
    <text x="290" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Input</text>
    <text x="360" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Output</text>
    <text x="430" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Append</text>
    <text x="500" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Here-doc</text>
    <text x="580" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Literals</text>
    <text x="650" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">Variables</text>
    <text x="720" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">$Variables</text>
    <text x="790" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8">File target</text>
  </g>
  
  <!-- Main flow arrows -->
  <path d="M 170 85 L 190 85" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 320 85 L 340 85" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 110 110 L 110 180" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 170 215 L 190 215" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 340 215 L 360 215" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 215 L 520 215" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 630 215 L 690 215" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Parsing flow arrows -->
  <path d="M 120 250 L 120 270" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 190 315 L 210 315" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 340 315 L 360 315" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 315 L 530 315" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 680 315 L 700 315" stroke="#007bff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Error/Exit paths -->
  <path d="M 580 190 L 580 160 L 1040 160 L 1040 100" stroke="#dc3545" stroke-width="2" fill="none" marker-end="url(#errorarrow)" stroke-dasharray="5,5"/>
  <text x="800" y="155" font-family="Arial, sans-serif" font-size="9" fill="#dc3545">No Input → Exit</text>
  
  <!-- Continue arrows -->
  <path d="M 120 350 L 120 380 L 30 380 L 30 180 L 40 180" stroke="#28a745" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="25" y="280" font-family="Arial, sans-serif" font-size="9" fill="#28a745" transform="rotate(-90 25 280)">Continue Loop</text>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="900" y="750" width="280" height="180" fill="#ffffff" stroke="#6c757d" stroke-width="2" rx="5"/>
    <text x="1040" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#495057">Legend</text>
    
    <rect x="920" y="790" width="20" height="15" fill="#007bff" stroke="#0056b3" stroke-width="1"/>
    <text x="950" y="802" font-family="Arial, sans-serif" font-size="10" fill="#212529">Main Entry Functions</text>
    
    <rect x="920" y="810" width="20" height="15" fill="#28a745" stroke="#1e7e34" stroke-width="1"/>
    <text x="950" y="822" font-family="Arial, sans-serif" font-size="10" fill="#212529">Initialization Functions</text>
    
    <rect x="920" y="830" width="20" height="15" fill="#e83e8c" stroke="#d91a72" stroke-width="1"/>
    <text x="950" y="842" font-family="Arial, sans-serif" font-size="10" fill="#212529">Parsing Functions</text>
    
    <rect x="920" y="850" width="20" height="15" fill="#6c757d" stroke="#495057" stroke-width="1"/>
    <text x="950" y="862" font-family="Arial, sans-serif" font-size="10" fill="#212529">Utility Functions</text>
    
    <path d="M 920 875 L 940 875" stroke="#007bff" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="950" y="879" font-family="Arial, sans-serif" font-size="10" fill="#212529">Normal Flow</text>
    
    <path d="M 920 890 L 940 890" stroke="#dc3545" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#errorarrow)"/>
    <text x="950" y="894" font-family="Arial, sans-serif" font-size="10" fill="#212529">Error/Exit Path</text>
    
    <path d="M 920 905 L 940 905" stroke="#28a745" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
    <text x="950" y="909" font-family="Arial, sans-serif" font-size="10" fill="#212529">Loop/Continue</text>
  </g>
  
</svg>
